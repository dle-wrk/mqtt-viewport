<div class="container">
  <h1>{{ title() }}</h1>
  <h2>AeroLink Response</h2>
  <div>
    <div class="timer" *ngIf="aerolinkResponse?.a">Next packet in: {{ aerolinkTimer }}s</div>
    <table class="response-table">
      <tbody>
        <tr *ngIf="!aerolinkResponse?.a">
          <td colspan="2"><em>Waiting for AeroLink response...</em></td>
        </tr>
        <tr *ngFor="let key of objectKeys(aerolinkResponse?.a || {})">
          <th>{{ key }}</th>
          <td [ngClass]="{'highlight': aerolinkHighlight}">
            <ng-container *ngIf="isArray(aerolinkResponse.a[key]); else notArrayAero">
              {{ aerolinkResponse.a[key].join(', ') }}
            </ng-container>
            <ng-template #notArrayAero>
              {{ aerolinkResponse.a[key] }}
            </ng-template>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #noAeroLink><em>No AeroLink response received yet.</em></ng-template>

  <h2>LuminaS Response</h2>
  <div>
    <div class="timer" *ngIf="luminaSResponse?.a">Next packet in: {{ luminaSTimer }}s</div>
    <table class="response-table">
      <tbody>
        <tr *ngIf="!luminaSResponse?.a">
          <td colspan="2"><em>Waiting for LuminaS response...</em></td>
        </tr>
        <tr *ngFor="let key of objectKeys(luminaSResponse?.a || {})">
          <th>{{ key }}</th>
          <td [ngClass]="{'highlight': luminaSHighlight}">
            <ng-container *ngIf="isArray(luminaSResponse.a[key]); else notArrayLumina">
              {{ luminaSResponse.a[key].join(', ') }}
            </ng-container>
            <ng-template #notArrayLumina>
              {{ luminaSResponse.a[key] }}
            </ng-template>
          </td>
        </tr>
      </tbody>
    </table>
  </div>